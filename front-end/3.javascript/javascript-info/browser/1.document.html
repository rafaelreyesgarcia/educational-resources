<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document examples</title>

  <style>
    .order[data-order-state="new"] {
      color:green;
    }
    .order[data-order-state="pending"] {
      color: blue;
    }
    .order[data-order-state="canceled"] {
      color: red;
    }

    /* alert box */

    .alert {
      padding: 15px;
      border: 1px solid #d6e9c6;
      border-radius: 4px;
      color: #3c763d;
      background-color: #dff0d8;
    }

    .warning {
      padding: 15px;
      border: 1px solid #e9c6c6;
      border-radius: 4px;
      color: #763c3c;
      background-color: #f0d8d8;
    }

    body {
      background-color: rgb(64, 74, 53);
      margin: 5px;
      color: rgb(215, 205, 205);
    }

    #example {
      width: 300px;
      height: 200px;
      border: 25px solid #E8C48F;
      padding: 20px;
      overflow: auto;
    }
  </style>
</head>
<body>
  <!-- comment goes here -->
  <div id="elem">begin</div>

  <ul>
    <li>information</li>
  </ul>

  <div>end</div>

  <script>
    for (let i = 0; i < document.body.childNodes.length; i++) {
      console.log(document.body.childNodes[i]);
    }

    for (let node of document.body.childNodes) {
      console.log(node);
    }

    console.log(document.body.parentNode === document.documentElement);

    console.log(document.head.nextSibling);

    console.log(document.body.previousSibling);

    for (let i = 0; i < document.body.children.length; i++) {
      console.log(document.body.children[i]);
    }

    for (let elem of document.body.children) {
      console.log(elem);
    }

    let elem = document.getElementById('elem');

    elem.style.backgroundColor = 'red';
    // elem is a reference to the DOM-element with id = "elem"


  </script>

  <div>more stuff</div>

  <a href="http://example.com/file.zip">...</a>
  <a href="http://ya.ru">...</a>

  <script>
    for (let elem of document.body.children) {
      if (elem.matches('a[href$="zip"]')) {
        console.log('the archive reference: ' + elem.href);
      }
    }
  </script>

  <h1>contents</h1>

  <div class="contents">
    <ul class="book">
      <li class="chapter">1</li>
      <li class="chapter">2</li>
    </ul>
  </div>

  <script>
    let chapter = document.querySelector('.chapter'); /* LI */

    console.log(chapter.closest('.book')); /* UL */
    console.log(chapter.closest('.contents')); /* div */

    console.log(chapter.closest('h1')); /* NULL, h1 is not an ancestor */
  </script>

  <!-- all <input>s inside a <table> -->
   
  <table id="table">
    <tr>
      <td>your age:</td>
      <td>
        <label>
          <input type="radio" name="age" value="young" checked> less than 18
        </label>
        <label>
          <input type="radio" name="age" value="mature"> from 18 to 50
        </label>
        <label>
          <input type="radio" name="age" value="senior"> more than 60
        </label>
      </td>
    </tr>
  </table>

  <script>
    let inputs = table.getElementsByTagName('input');

    for (let input of inputs) {
      console.log(input.value + ':' + input.checked)
    }
  </script>

  <!-- looking for .article elements -->
  <form name="my-form">
    <div class="article">article</div>
    <div class="long article">longer article</div>
  </form>

  <script>
    let form = document.getElementsByName('my-form')[0];

    let articles = form.getElementsByClassName('article');
    console.log(articles.length);
  </script>

  <!-- live collections -->
   
  <div>first</div>

  <script>
    let divs = document.getElementsByTagName('div');
    console.log(divs.length);

    let divsQueried = document.querySelectorAll('div');
      
  </script>

  <div>second</div>

  <script>
    console.log(divs.length);
    console.log(divsQueried.length);

    console.log(document.body);
    console.dir(document.body);

    // nodeType 

    let documentBody = document.body;

    console.log(documentBody.nodeType);
    console.log(documentBody.firstChild.nodeType);

    console.log(document.nodeType);

    // nodeName tagName

    console.log(document.body.firstChild.tagName);
    console.log(document.body.firstChild.nodeName);

    console.log(document.tagName);
    console.log(document.nodeName);

  </script>

  <div class="inner">hey!</div>

  <script>
    // innerHTML
    let div = document.querySelector('.inner').innerHTML;
     
    console.log(div);

    console.log(document.querySelector('.inner').innerHTML = 'something else!');
     
    // += full overwrite

    div.innerHTML += "<div>Hello!</div>";
    div.innerHTML += "how goes?";

    console.log(div);

  </script>

  <!-- attributes -->

  <div id="elemento" about="elephant">hey there!</div>
  <script>
    console.log(elemento.getAttribute('about'));
    elemento.setAttribute('test', false);

    console.log(elemento.outerHTML);

    for (let attr of elemento.attributes) {
      console.log(`${attr.name} = ${attr.value}`);
    }
  </script>

  <input class="input">

  <script>
    let input = document.querySelector('.input');

    input.setAttribute('id', 'idValue');
    console.log(input.id);

    input.id = 'newId';
    console.log(input.getAttribute('id'));

  </script>

  <!-- data attributes -->
  <div id="order" class="order" data-order-state="new">an order</div>

  <script>
    console.log(order.dataset.orderState);

    order.dataset.orderState = "new";
  </script>

  <div class="alert">
    <strong>hi user!</strong> you've read an important message
  </div>

  <script>
    // creating an element
    let createdDiv = document.createElement('div');

    let textNode = document.createTextNode('I am text');

    createdDiv.className = 'alert';
    createdDiv.innerHTML = "<strong> hi jsGenerated user! </strong> You're reading a message"; 

    document.body.append(createdDiv);
  </script>

  <ol id="ol">
    <li>0</li>
    <li>1</li>
    <li>2</li>
  </ol>

  <div id="divy"></div>

  <script>
    ol.before('before');
    ol.after('after');

    let liFirst = document.createElement('li');
    liFirst.innerHTML = 'prepend';
    ol.prepend(liFirst);

    let liLast = document.createElement('li');
    liLast.innerHTML = 'append';
    ol.append(liLast);

    divy.before("<p>hello</p>", document.createElement('hr'));

    divy.insertAdjacentHTML('beforebegin', '<p>hello</p');
    divy.insertAdjacentHTML('afterend', '<p>bye</p>');
    divy.insertAdjacentHTML('afterbegin', '<h1>inside divy</h1>');
    divy.insertAdjacentHTML('beforeend', '<p> before divy ends </p>');
      
    document.body.insertAdjacentHTML('afterend', `
                                      <div class="warning">
                                        <strong> Warning! </strong>
                                        this is serious...
                                      </div>
                                      `);
      
    setTimeout(() => divy.remove(), 1000);

  </script>

  <!-- documentFragment -->

  <ul id="ul"></ul>
  <script>
    function getListContent() {
      let fragment = new DocumentFragment();

      for(let i = 1; i <= 3; i++) {
        let li = document.createElement('li');
        li.append(i);
        fragment.append(li);
      }  

      return fragment;
    }

    ul.append(getListContent());

    // rewritten
    function getList() {
      let result = [];

      for(let i = 4; i <= 7; i++) {
        let li = document.createElement('li');
        li.append(i);
        result.push(li);
      }

      return result;
    }

    ul.append(...getList());

    // old-school insert/remove

    let newLi = document.createElement('li');
    newLi.innerHTML = 8;
     
    ul.appendChild(newLi);

    let insertBefore = document.createElement('li');
    insertBefore.innerHTML = 'inserted before an element';

    ul.insertBefore(insertBefore, ul.children[1]);

  </script>

  <!-- style and classes -->

  <div class="main page"></div>

  <script>
    let divy2 = document.body.classList.add('article');

  </script>

  <!-- getComputedStyle -->

  <script>
    let computedStyle = getComputedStyle(document.body);

    console.log(computedStyle.margin);
    console.log(computedStyle.color);
    console.log(computedStyle.backgroundColor);
  </script>

  <!-- element size and scrolling -->
   
  <div id="example">
    ...text...
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ab similique ea ipsa unde, 
    quae doloremque fuga sint debitis odit velit.
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Omnis sed quas magnam? Ullam 
    architecto molestias voluptatibus dolores! Nam, architecto magni.
    Lorem ipsum dolor sit, amet consectetur adipisicing elit. Provident ex non porro tenetur
    obcaecati. Iste maiores dolorem architecto doloremque fugit?
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ab similique ea ipsa unde, 
    quae doloremque fuga sint debitis odit velit.
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Omnis sed quas magnam? Ullam 
    architecto molestias voluptatibus dolores! Nam, architecto magni.
    Lorem ipsum dolor sit, amet consectetur adipisicing elit. Provident ex non porro tenetur
    obcaecati. Iste maiores dolorem architecto doloremque fugit?
  </div>

  <!-- element size and scrolling -->

  <article style="position: relative" id="main">

    <div id="elementExample" style="position: absolute; left: 180px; top: 180px">
      Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ab similique ea ipsa unde,
      quae doloremque fuga sint debitis odit velit.
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Omnis sed quas magnam? Ullam
      architecto molestias voluptatibus dolores! Nam, architecto magni.
      Lorem ipsum dolor sit, amet consectetur adipisicing elit. Provident ex non porro tenetur
      obcaecati. Iste maiores dolorem architecto doloremque fugit?
      Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ab similique ea ipsa unde,
      quae doloremque fuga sint debitis odit velit.
    </div>

  </article>

  <script>
    console.log(elementExample.offsetParent.id);
    console.log(elementExample.offsetLeft);
    console.log(elementExample.offsetTop);
  </script>

  <!-- read full document height -->

  <script>
    let scrollHeight = Math.max(
      document.body.scrollHeight, document.documentElement.scrollHeight,
      document.body.offsetHeight, document.documentElement.offsetHeight,
      document.body.clientHeight, document.documentElement.clientHeight
    );

    console.log(`the full document height is: ` + scrollHeight);

    // current scroll state in the document

    console.log('current scroll from top is: ' + window.pageYOffset);
    console.log('current scroll from left is: ' + window.pageXOffset);

    // highlights and outputs the tag of elem in the middle of the window

    let centerX = document.documentElement.clientWidth / 2;
    let centerY = document.documentElement.clientWidth / 2;

    let element = document.elementFromPoint(centerX, centerY);

    element.style.backgroundColor = '#653575';
    console.log(element.tagName);
  </script>

  <!-- show something near an element -->

  <div id="anotherDiv"></div>

  <script>
    let anotherElem = document.getElementById('anotherDiv');

    function createMessageUnder(elem, html) {
      let message = document.createElement('div');
      message.style.cssText = 'position: fixed; color: red';

      let coords = anotherElem.getBoundingClientRect();

      message.style.left = coords.left + 'px';
      message.style.top = coords.bottom + 'px';

      message.innerHTML = html;

      return message;
    }

    let message = createMessageUnder(anotherElem, 'hello!');
    document.body.append(message);

    setTimeout(() => message.remove(), 5000);
  </script>

</body>
</html>